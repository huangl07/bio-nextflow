10月-12 11:34:14.620 [main] DEBUG nextflow.cli.Launcher - $> nextflow run Ampliseq.nf --fqlist fastq1.list --out demo -resume --meta meta.list
10月-12 11:34:14.768 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 21.04.3
10月-12 11:34:14.807 [main] INFO  nextflow.cli.CmdRun - Launching `Ampliseq.nf` [gloomy_descartes] - revision: 8cc78123d8
10月-12 11:34:14.918 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; plugins-dir=/mnt/ilustre/users/dna/.nextflow/plugins
10月-12 11:34:14.920 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
10月-12 11:34:14.923 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins local root: .nextflow/plr/empty
10月-12 11:34:14.933 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
10月-12 11:34:14.934 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
10月-12 11:34:14.939 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
10月-12 11:34:14.952 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
10月-12 11:34:15.024 [main] DEBUG nextflow.Session - Session uuid: 89ee96c2-4d8d-475a-b515-4b68408c2150
10月-12 11:34:15.025 [main] DEBUG nextflow.Session - Run name: gloomy_descartes
10月-12 11:34:15.027 [main] DEBUG nextflow.Session - Executor pool size: 64
10月-12 11:34:15.086 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 21.04.3 build 5560
  Created: 21-07-2021 15:09 UTC (23:09 CDT)
  System: Linux 4.18.0-240.22.1.el8_3.x86_64
  Runtime: Groovy 3.0.7 on Java HotSpot(TM) 64-Bit Server VM 11.0.11+9-LTS-194
  Encoding: UTF-8 (UTF-8)
  Process: 571179@compute-5-95 [10.2.4.236]
  CPUs: 64 - Mem: 125.2 GB (13.8 GB) - Swap: 4 GB (3.4 GB)
10月-12 11:34:15.144 [main] DEBUG nextflow.Session - Work-dir: /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work [lustre]
10月-12 11:34:15.169 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
10月-12 11:34:15.185 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
10月-12 11:34:15.384 [main] DEBUG nextflow.Session - Session start invoked
10月-12 11:34:16.786 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
10月-12 11:34:16.797 [main] DEBUG nextflow.Session - Workflow process names [dsl1]: PCOA, classify, cluster, importfq, Dist, Alpha, DeNoise, Tree, Abundance, Rarecurve
10月-12 11:34:16.909 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
10月-12 11:34:16.909 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
10月-12 11:34:16.922 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
10月-12 11:34:16.931 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 100; pollInterval: 5s; dumpInterval: 5m 
10月-12 11:34:16.939 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
10月-12 11:34:17.105 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
10月-12 11:34:17.106 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
10月-12 11:34:17.124 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
10月-12 11:34:17.124 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
10月-12 11:34:17.134 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
10月-12 11:34:17.134 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
10月-12 11:34:17.145 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 11:34:17.146 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 11:34:17.149 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
10月-12 11:34:17.153 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=64; memory=125.2 GB; capacity=64; pollInterval=100ms; dumpInterval=5m
10月-12 11:34:17.171 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 11:34:17.171 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 11:34:17.182 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 11:34:17.182 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 11:34:17.192 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 11:34:17.193 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 11:34:17.203 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 11:34:17.203 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 11:34:17.211 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 11:34:17.211 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 11:34:17.216 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
10月-12 11:34:17.217 [main] DEBUG nextflow.Session - Session await
10月-12 11:34:17.240 [Actor Thread 4] DEBUG nextflow.conda.CondaCache - Conda found local env for environment=/mnt/ilustre/users/dna/miniconda3/envs/qiime2-2021.8; path=/mnt/ilustre/users/dna/miniconda3/envs/qiime2-2021.8
10月-12 11:34:17.391 [Actor Thread 2] INFO  nextflow.processor.TaskProcessor - [4d/5d0d71] Cached process > importfq
10月-12 11:34:17.450 [Actor Thread 6] INFO  nextflow.processor.TaskProcessor - [50/5256a6] Cached process > DeNoise
10月-12 11:34:17.470 [Actor Thread 2] INFO  nextflow.processor.TaskProcessor - [c4/378239] Cached process > Tree
10月-12 11:34:17.476 [Actor Thread 10] INFO  nextflow.processor.TaskProcessor - [7d/0d978c] Cached process > classify
10月-12 11:34:17.551 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 11:34:17.558 [Task submitter] INFO  nextflow.Session - [30/928d69] Submitted process > Rarecurve
10月-12 11:34:17.571 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 11:34:17.571 [Task submitter] INFO  nextflow.Session - [d8/160955] Submitted process > cluster
10月-12 11:34:17.586 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 11:34:17.586 [Task submitter] INFO  nextflow.Session - [28/018a52] Submitted process > Alpha
10月-12 11:34:17.596 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 11:34:17.598 [Task submitter] INFO  nextflow.Session - [f2/3a61c0] Submitted process > Abundance
10月-12 11:34:17.607 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 11:34:17.608 [Task submitter] INFO  nextflow.Session - [31/9fa894] Submitted process > PCOA
10月-12 11:34:17.615 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 11:34:17.616 [Task submitter] INFO  nextflow.Session - [d0/1f6c4e] Submitted process > Dist
10月-12 11:35:00.083 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 5; name: cluster; status: COMPLETED; exit: 1; error: -; workDir: /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work/d8/16095552209ed8ac40dfcd0e478b39]
10月-12 11:35:00.147 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'cluster'

Caused by:
  Process `cluster` terminated with an error exit status (1)

Command executed:

  #!/usr/bin/env Rscript
  library(MicrobiotaProcess)
  library(phyloseq)
  library(tidyverse)
  library(RColorBrewer)
  otu <- "table.qza"
  rep <- "rep-seqs.qza"
  tree <- "rooted-tree.qza"
  tax <- "taxonomy.qza"
  sample <- "meta.list"
  ps <- mp_import_qiime2(otuqza=otu, taxaqza=tax,refseqqza=rep,mapfilename=sample,treeqza=tree)
  ps %<>% mp_rrarefy()
  p1 <- ps %>%
      mp_plot_ord(
        .ord = pcoa, 
        .group = time, 
        .color = time, 
        .size = 1.2,
        .alpha = 1,
        ellipse=TRUE
      ) +
      scale_fill_manual(values=c("#00A087FF", "#3C5488FF")) +
      scale_color_manual(values=c("#00A087FF", "#3C5488FF")) 
  ggsave(file="cluster.pdf",p1)

Command exit status:
  1

Command output:
  WARNING: ignoring environment value of R_HOME

Command error:
  
  载入程辑包：‘MicrobiotaProcess’
  
  The following object is masked from ‘package:stats’:
  
      filter
  
  
  载入程辑包：‘phyloseq’
  
  The following object is masked from ‘package:MicrobiotaProcess’:
  
      refseq
  
  ─ Attaching packages ──────────────────── tidyverse 1.3.1 ─
  ✔ ggplot2 3.3.5     ✔ purrr   0.3.4
  ✔ tibble  3.1.5     ✔ dplyr   1.0.7
  ✔ tidyr   1.1.4     ✔ stringr 1.4.0
  ✔ readr   2.0.2     ✔ forcats 0.5.1
  ─ Conflicts ───────────────────── tidyverse_conflicts() ─
  ✖ dplyr::filter() masks MicrobiotaProcess::filter(), stats::filter()
  ✖ dplyr::lag()    masks stats::lag()
  Warning message:
  The treeqza is a tree file, it is parsing by read.tree function.
  * It is better to parse it with the function of treeio
  * then the treedata or phylo result all can be supported. 
  Error in UseMethod("tidydr") : "tidydr"没有适用于"NULL"目标对象的方法
  Calls: %>% ... <Anonymous> -> <Anonymous> -> <Anonymous> -> tidydr
  停止执行

Work dir:
  /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work/d8/16095552209ed8ac40dfcd0e478b39

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
10月-12 11:35:00.164 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `cluster` terminated with an error exit status (1)
10月-12 11:35:00.197 [main] DEBUG nextflow.Session - Session await > all process finished
10月-12 11:35:00.197 [main] DEBUG nextflow.Session - Session await > all barriers passed
10月-12 11:35:00.198 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 9; name: PCOA; status: COMPLETED; exit: 1; error: -; workDir: /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work/31/9fa894abd2365851b49f9cbf3a3d72]
10月-12 11:35:00.201 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 8; name: Dist; status: COMPLETED; exit: 1; error: -; workDir: /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work/d0/1f6c4ebf14c5ab888a90fbaf416dff]
10月-12 11:35:00.212 [main] WARN  n.processor.TaskPollingMonitor - Killing pending tasks (3)
10月-12 11:35:00.251 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=3; ignoredCount=0; cachedCount=4; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=3; succeedDuration=0ms; failedDuration=2m 7s; cachedDuration=3h 44m 30s;loadCpus=0; loadMemory=0; peakRunning=6; peakCpus=6; peakMemory=0; ]
10月-12 11:35:00.419 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
10月-12 11:35:00.448 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
