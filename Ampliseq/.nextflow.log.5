10月-12 16:25:18.833 [main] DEBUG nextflow.cli.Launcher - $> nextflow run Ampliseq.nf --fqlist fastq1.list --out demo -resume --meta meta.list
10月-12 16:25:19.002 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 21.04.3
10月-12 16:25:19.044 [main] INFO  nextflow.cli.CmdRun - Launching `Ampliseq.nf` [sleepy_leavitt] - revision: 9094fba2e0
10月-12 16:25:19.164 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; plugins-dir=/mnt/ilustre/users/dna/.nextflow/plugins
10月-12 16:25:19.168 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
10月-12 16:25:19.171 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins local root: .nextflow/plr/empty
10月-12 16:25:19.184 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
10月-12 16:25:19.186 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
10月-12 16:25:19.191 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
10月-12 16:25:19.206 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
10月-12 16:25:19.286 [main] DEBUG nextflow.Session - Session uuid: 89ee96c2-4d8d-475a-b515-4b68408c2150
10月-12 16:25:19.286 [main] DEBUG nextflow.Session - Run name: sleepy_leavitt
10月-12 16:25:19.288 [main] DEBUG nextflow.Session - Executor pool size: 64
10月-12 16:25:19.355 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 21.04.3 build 5560
  Created: 21-07-2021 15:09 UTC (23:09 CDT)
  System: Linux 4.18.0-240.22.1.el8_3.x86_64
  Runtime: Groovy 3.0.7 on Java HotSpot(TM) 64-Bit Server VM 11.0.11+9-LTS-194
  Encoding: UTF-8 (UTF-8)
  Process: 802390@compute-5-95 [10.2.4.236]
  CPUs: 64 - Mem: 125.2 GB (8 GB) - Swap: 4 GB (1.5 GB)
10月-12 16:25:19.428 [main] DEBUG nextflow.Session - Work-dir: /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work [lustre]
10月-12 16:25:19.460 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
10月-12 16:25:19.483 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
10月-12 16:25:19.740 [main] DEBUG nextflow.Session - Session start invoked
10月-12 16:25:21.200 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
10月-12 16:25:21.212 [main] DEBUG nextflow.Session - Workflow process names [dsl1]: Hierarchical, PCOA, classify, importfq, Dist, adonis, Alpha, DeNoise, Tree, Abundance, Rarecurve
10月-12 16:25:21.326 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
10月-12 16:25:21.327 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
10月-12 16:25:21.340 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
10月-12 16:25:21.350 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 100; pollInterval: 5s; dumpInterval: 5m 
10月-12 16:25:21.358 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
10月-12 16:25:21.528 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
10月-12 16:25:21.528 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
10月-12 16:25:21.543 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
10月-12 16:25:21.543 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
10月-12 16:25:21.552 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
10月-12 16:25:21.553 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
10月-12 16:25:21.564 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 16:25:21.564 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 16:25:21.569 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
10月-12 16:25:21.574 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=64; memory=125.2 GB; capacity=64; pollInterval=100ms; dumpInterval=5m
10月-12 16:25:21.590 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 16:25:21.590 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 16:25:21.603 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 16:25:21.603 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 16:25:21.614 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 16:25:21.614 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 16:25:21.624 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 16:25:21.625 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 16:25:21.632 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 16:25:21.633 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 16:25:21.640 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: local
10月-12 16:25:21.640 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
10月-12 16:25:21.645 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
10月-12 16:25:21.645 [main] DEBUG nextflow.Session - Session await
10月-12 16:25:21.652 [Actor Thread 4] DEBUG nextflow.conda.CondaCache - Conda found local env for environment=/mnt/ilustre/users/dna/miniconda3/envs/qiime2-2021.8; path=/mnt/ilustre/users/dna/miniconda3/envs/qiime2-2021.8
10月-12 16:25:21.790 [Actor Thread 2] INFO  nextflow.processor.TaskProcessor - [4d/5d0d71] Cached process > importfq
10月-12 16:25:21.865 [Actor Thread 6] INFO  nextflow.processor.TaskProcessor - [50/5256a6] Cached process > DeNoise
10月-12 16:25:21.889 [Actor Thread 11] INFO  nextflow.processor.TaskProcessor - [c4/378239] Cached process > Tree
10月-12 16:25:21.890 [Actor Thread 1] INFO  nextflow.processor.TaskProcessor - [7d/0d978c] Cached process > classify
10月-12 16:25:21.975 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 16:25:21.981 [Task submitter] INFO  nextflow.Session - [08/23f176] Submitted process > Dist
10月-12 16:25:21.999 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 16:25:22.000 [Task submitter] INFO  nextflow.Session - [51/3b4946] Submitted process > Hierarchical
10月-12 16:25:22.010 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 16:25:22.011 [Task submitter] INFO  nextflow.Session - [5b/b1b03d] Submitted process > PCOA
10月-12 16:25:22.024 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 16:25:22.025 [Task submitter] INFO  nextflow.Session - [f6/f7bfdb] Submitted process > adonis
10月-12 16:25:22.036 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 16:25:22.036 [Task submitter] INFO  nextflow.Session - [fd/166be1] Submitted process > Abundance
10月-12 16:25:22.046 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 16:25:22.046 [Task submitter] INFO  nextflow.Session - [d0/d330b8] Submitted process > Rarecurve
10月-12 16:25:22.054 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
10月-12 16:25:22.055 [Task submitter] INFO  nextflow.Session - [eb/f43051] Submitted process > Alpha
10月-12 16:26:10.241 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 8; name: PCOA; status: COMPLETED; exit: 1; error: -; workDir: /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work/5b/b1b03d17508e9177dd13df814c7ef9]
10月-12 16:26:10.312 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'PCOA'

Caused by:
  Process `PCOA` terminated with an error exit status (1)

Command executed:

  #!/usr/bin/env Rscript
  library(MicrobiotaProcess)
  library(phyloseq)
  library(tidyverse)
  library(RColorBrewer)
  otu <- "table.qza"
  rep <- "rep-seqs.qza"
  tree <- "rooted-tree.qza"
  tax <- "taxonomy.qza"
  sample <- "meta.list"
  ps <- mp_import_qiime2(otuqza=otu, taxaqza=tax,refseqqza=rep,mapfilename=sample,treeqza=tree)
  ps %<>% mp_rrarefy()
  ps %<>% mp_decostand(.abundance=Abundance)
  ps %<>% mp_cal_pcoa(.abundance=hellinger, distmethod="bray")
  p1 <- ps %>%
      mp_plot_ord(
        .ord = pcoa, 
        .group = group, 
        .color = group, 
        .size = 1.2,
        .alpha = 1,
        ellipse=TRUE
      ) +
      scale_fill_manual(values=c("#00A087FF", "#3C5488FF")) +
      scale_color_manual(values=c("#00A087FF", "#3C5488FF")) 
  ggsave(file="pcoa.pdf",p1)

Command exit status:
  1

Command output:
  WARNING: ignoring environment value of R_HOME

Command error:
  The following object is masked from ‘package:MicrobiotaProcess’:
  
      refseq
  
  ─ Attaching packages ──────────────────── tidyverse 1.3.1 ─
  ✔ ggplot2 3.3.5     ✔ purrr   0.3.4
  ✔ tibble  3.1.5     ✔ dplyr   1.0.7
  ✔ tidyr   1.1.4     ✔ stringr 1.4.0
  ✔ readr   2.0.2     ✔ forcats 0.5.1
  ─ Conflicts ───────────────────── tidyverse_conflicts() ─
  ✖ dplyr::filter() masks MicrobiotaProcess::filter(), stats::filter()
  ✖ dplyr::lag()    masks stats::lag()
  Warning message:
  The treeqza is a tree file, it is parsing by read.tree function.
  * It is better to parse it with the function of treeio
  * then the treedata or phylo result all can be supported. 
  Registered S3 method overwritten by 'ggside':
    method from   
    +.gg   ggplot2
  Saving 7 x 7 in image
  Too few points to calculate an ellipse
  Too few points to calculate an ellipse
  Too few points to calculate an ellipse
  Too few points to calculate an ellipse
  Too few points to calculate an ellipse
  Too few points to calculate an ellipse
  Error: Insufficient values in manual scale. 7 needed but only 2 provided.
  Backtrace:
       █
    1. └─ggplot2::ggsave(file = "pcoa.pdf", p1)
    2.   ├─grid::grid.draw(plot)
    3.   └─ggplot2:::grid.draw.ggplot(plot)
    4.     ├─base::print(x)
    5.     └─ggplot2:::print.ggplot(x)
    6.       ├─ggplot2::ggplot_build(x)
    7.       └─ggplot2:::ggplot_build.ggplot(x)
    8.         └─base::lapply(data, scales_map_df, scales = npscales)
    9.           └─ggplot2:::FUN(X[[i]], ...)
   10.             ├─base::unlist(...)
   11.             └─base::lapply(scales$scales, function(scale) scale$map_df(df = df))
   12.               └─ggplot2:::FUN(X[[i]], ...)
   13.                 └─scale$map_df(df = df)
   14.                   └─ggplot2:::f(..., self = self)
   15.                     └─base::lapply(aesthetics, function(j) self$map(df[[j]]))
   16.                       └─ggplot2:::FUN(X[[i]], ...)
   17.                         └─self$map(df[[j]])
   18.                           └─ggplot2:::f(..., self = self)
   19.                             └─self$palette(n)
   20.                               └─ggplot2:::f(...)
  停止执行

Work dir:
  /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work/5b/b1b03d17508e9177dd13df814c7ef9

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
10月-12 16:26:10.336 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `PCOA` terminated with an error exit status (1)
10月-12 16:26:10.374 [main] DEBUG nextflow.Session - Session await > all process finished
10月-12 16:26:10.375 [main] DEBUG nextflow.Session - Session await > all barriers passed
10月-12 16:26:10.377 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 11; name: adonis; status: COMPLETED; exit: 0; error: -; workDir: /mnt/ilustre/users/dna/Pipeline/NextFlow/bio-nextflow/Ampliseq/work/f6/f7bfdbe02bbc9174e2354c92e25d0b]
10月-12 16:26:10.389 [main] WARN  n.processor.TaskPollingMonitor - Killing pending tasks (5)
10月-12 16:26:10.441 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=1; failedCount=1; ignoredCount=0; cachedCount=4; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=5; succeedDuration=48.3s; failedDuration=48.1s; cachedDuration=3h 44m 30s;loadCpus=0; loadMemory=0; peakRunning=7; peakCpus=7; peakMemory=0; ]
10月-12 16:26:10.585 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
10月-12 16:26:10.612 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
